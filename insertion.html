<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insertion Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="insertion.css">
    <style>
        /* Additional CSS for button */
        #buttonhome {
            background-color: green;
            color: white;
            border: none;
        }

        #buttonhome:hover {
            background-color: red;
        }
    </style>
     <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');
            if (error === 'provider_already_exists') {
                alert("You entered a provider detail is already exist in the database so need to save again. Please add another provider.");
            }
        };
    </script>
   
</head>
<body>
    <div class="container-fluid">
        <header class="row bg-primary text-white py-3">
            <div class="col-12 text-center">
                <h1>Service Provider Insertion Form</h1>
            </div>
            <div class="col-12 text-right">
                <button id="buttonhome" class="btn btn-outline-danger" onclick="home()">Home</button>
            </div>
        </header>
        <main class="row my-5">
            <div class="col-md-6">
                <img src="services1.jpg" alt="services" class="img-fluid">
            </div>
            <div class="col-md-6">
                <div class="form-container">
                    <form action="insertion.jsp" method="POST">
                        <!-- Hidden input to pass ctnm to JSP -->
                        <input type="hidden" name="ctnm" value="<%= ctnm %>">
                        
                        <div class="form-group">
                            <label for="city">City</label>
                            <select class="form-control" id="city" name="city">
                                <option value="" selected disabled>Select a city</option>
                                <option value="Gwalior">Gwalior</option>
                                <option value="Bhind">Bhind</option>
                                <option value="Jhansi">Jhansi</option>
                                <option value="Bhopal">Bhopal</option>
                                <option value="Indore">Indore</option>
                                <option value="Agra">Agra</option>
                                <option value="Morena">Morena</option>
                                <option value="Guna">Guna</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="serviceName">Service Name</label>
                            <input type="text" class="form-control" id="serviceName" name="serviceName" required>
                        </div>
                        <div class="form-group">
                            <label for="locationName">Location Name</label>
                            <input type="text" class="form-control" id="locationName" name="locationName" required>
                        </div>
                        <div class="form-group">
                            <label for="providerName">Provider Name</label>
                            <input type="text" class="form-control" id="providerName" name="providerName" required>
                        </div>
                        <div class="form-group">
                            <label for="providerContact">Provider Contact</label>
                            <input type="tel" class="form-control" id="providerContact" name="providerContact" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </div>
        </main>
        <footer class="row bg-dark text-white text-center py-3">
            <div class="col-12">
                <p>&copy; 2024 Your Company Name. All rights reserved.</p>
                <p>Contact: info@yourcompany.com | License: Your License Info</p>
            </div>
        </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const ctnm = urlParams.get('ctnm');

        window.onload = function() {
            if (!ctnm) {
                alert("ctnm is null");
                window.location.href = "index.html";
            }
        };
        
        function home() {
            window.location.href = `Admin.html?ctnm=${encodeURIComponent(ctnm)}`;
        }
    </script>
<script>
     setTimeout(function() {
            window.location.href = 'logout.jsp';
        }, 180000); // 180 seconds = 3 minutes
</script>
</body>
</html>
